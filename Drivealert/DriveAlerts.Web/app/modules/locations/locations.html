<style>
    body{
        overflow-y:hidden;
    }
</style>
<div class="row">
    <div class="col-md-12">
        <h2 class="content-heading">
            <i class="fa fa-2x fa-map-marker icon"></i>Locations
        </h2>
        <hr>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <!-- Dynamic Table Full -->
        <div class="block">
            <div class="block-header">

                <form class="form-inline">
                    <div class="form-group">

                        <label class="col-md-3 control-label push-5-t" for="date-start">Date Range</label>
                        <div class="col-md-9">
                            <div class="input-daterange input-group col-xs-9" data-date-format="mm/dd/yyyy">
                                <input date-picker class="form-control" type="text" id="date-start" ng-model="vm.searchOptions.DateStart" name="date-start" placeholder="From">
                                <span class="input-group-addon"><i class="fa fa-chevron-right"></i></span>
                                <input date-picker class="form-control" type="text" id="date-end" ng-model="vm.searchOptions.DateEnd" name="date-end" placeholder="To">
                            </div>
                            <button class="btn btn-primary" ng-click="vm.searchLocations()" type="submit">Search</button>

                        </div>
                       
                    </div>
 
                    <div class="form-group">
                        <ul class="nav nav-tabs nav-tabs-alt" data-toggle="tabs">
                            <li class="active">
                                <a show-tab href="#tab-locations-coordinates"><i class="fa fa-fw fa-globe"></i> Coordinates</a>
                            </li>
                            <li>
                                <a ng-hide="!vm.path.length" show-tab href="#tab-locations-map"><i class="fa fa-fw fa-map"></i> Map</a>
                            </li>
                        </ul>
                    </div>

                </form>

            </div>

            <div class="block-content tab-content">
                <div class="tab-pane fade in active" id="tab-locations-coordinates">
                    <table class="table table-bordered table-striped js-dataTable-full bg-gray-light" cg-busy="vm.isLoading">
                        <thead>
                            <tr>
                                <th class="text-center" style="width: 70px;">
                                    <label class="css-input css-checkbox css-checkbox-primary remove-margin-t remove-margin-b">
                                        <input type="checkbox" id="check-all" ng-click="vm.selectAll()" ng-model="vm.allSelected" name="check-all"><span></span>
                                    </label>
                                </th>
                                <th>Date</th>
                                <th>Longitude</th>
                                <th>Latitude</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="location in vm.locations">
                                <td class="text-center">
                                    <label class="css-input css-checkbox css-checkbox-primary">
                                        <input type="checkbox" id="row_1" name="row_1" ng-click="vm.selectLocation()" ng-model="location.Selected"><span></span>
                                    </label>
                                </td>
                                <td>{{location.Date}}</td>
                                <td>{{location.Longitude}}</td>
                                <td>{{location.Latitude}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>


                <ng-map class="tab-pane fade map-height" id="tab-locations-map"
                        center="{{vm.mapCenter}}" 
                        default-style="false"
                        zoom="12" 
                        zoom-to-include-markers="true">
                    <shape ng-if="vm.path.length" name="polyline"
                           path={{vm.path}}
                           geodesic="true"
                           stroke-color="#FF0000"
                           stroke-opacity="1.0"
                           stroke-weight="3">
                    </shape>
                    <marker ng-repeat="pos in vm.path" 
                            position="{{pos[0]}},{{pos[1]}}">
                    </marker>
                </ng-map>
            </div>


        </div>
        <!-- END Dynamic Table Full -->
    </div>
</div>
